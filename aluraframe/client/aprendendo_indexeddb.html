<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Aprendendo IndexedDB</title>
</head>

<body>
	 <script>
 	
	   var connection; 
       var openRequest = window.indexedDB.open("aluraframe",2);

       openRequest.onupgradeneeded = function(e) {

            console.log('Cria ou altera um banco já existente');
            var minhaConnection = e.target.result;
      		minhaConnection.createObjectStore('negociacoes');
        };

        openRequest.onsuccess = e => {

            console.log('Conexão obtida com sucesso');
            // e.target.result é uma instância de IDBDatabase
           connection = e.target.result
        };

        openRequest.onerror = e => {

            console.log(e.target.error);
        };

   </script>
</body>
</html>